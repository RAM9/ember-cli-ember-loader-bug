

To reproduce this error in the transition handling you will need to start the ember server
```
ember s
```
And visit a route ( which creates a transition)
```
http://localhost:4200/items
```

In the console you will see two kinds of errors 'undefined is not a function': One is generated by a patch on superWrapper - you'll see in the stack property that there are clues to the actual file that generated the issue.

The second errors is what ember will do by default ( strip the stack and clobber the actual error details)

---


This is related to transition event that calls code that will generate an 'undefined is not a function error'

A reproduction of the error ( and a patch to log the error to demonstrate the crux of the problem) is here:
https://github.com/RAM9/ember-cli-ember-loader-bug

This isn't ember-cli specific but it was noticed during an upgrade to ember.

Essentially the problem is given programmer error: Calling a function that dosen't exist in some class
definition and then invoking that Class definition at runtime in an operation that will cause a transition
will result in a swallowed exception and a very generic albeit correct javascript error.

IE : programmer error
```
import DS from 'ember-data';

export default DS.Model.extend({
 name: DS.attr('string'),
 hose: DS.cake('string')
});
```
Using the programmer error
```
import Ember from 'ember';
import Item from 'ec-new/models/item';

export default Ember.Route.extend({
  model: function() {
    return Item.create();
  }
});
```
Result

Uncaught TypeError: undefined is not a function ember.debug.js:24804
Expected

Ember will not swallow stack traces or otherwise mangle the error stream.

The error in particular is actually happening in superWrapper

Wrapping the error and re-raising it would be ugly but much more workable than the current overly
sanitized message.
```
try {
        if (length === 0) {
          ret = func.call(this);
        } else if (length === 1) {
          ret = func.call(this, arguments[0]);
        } else if (length === 2) {
          ret = func.call(this, arguments[0], arguments[1]);
        } else {
          var args = new Array(length);
          for (var i = 0; i < length; i++) {
            args[i] = arguments[i];
          }
          ret = apply(this, func, args);
        }

        if (this) {
          this.__nextSuper = sup;
        }
} catch(e) {
  console.log(e)
  throw e;
}
```
The stack is preserved :+1:
```
TypeError: undefined is not a function {stack: (...), message: "undefined is not a function"}message: "undefined is not a function"stack: "TypeError: undefined is not a function↵    at http://localhost:4200/assets/ec-new.js:92:25↵
```
This is not intended as a suggested fix. I expect the ember team has a better idea of how to do this without mangling the error stack.
